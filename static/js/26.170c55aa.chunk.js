"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[26],{713:function(t,n,r){function e(t,n,r,e,c,u,a){try{var o=t[u](a),i=o.value}catch(s){return void r(s)}o.done?n(i):Promise.resolve(i).then(e,c)}function c(t){return function(){var n=this,r=arguments;return new Promise((function(c,u){var a=t.apply(n,r);function o(t){e(a,c,u,o,i,"next",t)}function i(t){e(a,c,u,o,i,"throw",t)}o(void 0)}))}}r.d(n,{ot:function(){return y},uV:function(){return b},hd:function(){return l},Hx:function(){return d},FE:function(){return p},YD:function(){return s}});var u=r(757),a=r.n(u),o="6fd348fe18bef9bb707babb2bc9e952a",i="https://api.themoviedb.org/3/";function s(){return f.apply(this,arguments)}function f(){return f=c(a().mark((function t(){var n,r,e,c=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:1,r=new URLSearchParams({api_key:o,page:n}),e="".concat(i,"trending/movie/day?").concat(r),t.abrupt("return",j(e));case 4:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=c(a().mark((function t(n){var r,e,c,u=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:1,e=new URLSearchParams({api_key:o,page:r,query:n}),c="".concat(i,"search/movie?").concat(e),t.abrupt("return",j(c));case 4:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function l(t){return v.apply(this,arguments)}function v(){return(v=c(a().mark((function t(n){var r,e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URLSearchParams({api_key:o}),e="".concat(i,"movie/").concat(n,"?").concat(r),t.abrupt("return",j(e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return m.apply(this,arguments)}function m(){return(m=c(a().mark((function t(n){var r,e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URLSearchParams({api_key:o}),e="".concat(i,"movie/").concat(n,"/credits?").concat(r),t.abrupt("return",j(e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return w.apply(this,arguments)}function w(){return w=c(a().mark((function t(n){var r,e,c,u=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:1,e=new URLSearchParams({api_key:o,page:r}),c="".concat(i,"movie/").concat(n,"/reviews?").concat(e),t.abrupt("return",j(c));case 4:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function y(t){return g.apply(this,arguments)}function g(){return g=c(a().mark((function t(n){var r,e,c,u=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:400,e="w".concat(r),c="https://image.tmdb.org/t/p/".concat(e).concat(n),t.abrupt("return",fetch(c).then((function(t){if(t.ok)return t.blob();throw new Error(t.statusText)})));case 4:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function j(t){return x.apply(this,arguments)}function x(){return(x=c(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(n).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},26:function(t,n,r){r.r(n),r.d(n,{default:function(){return w}});var e=r(439),c=r(791);function u(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function a(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function o(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){u(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var i=r(87);var s="searchbar_form__6ou18",f="searchbar_input__Y04co",p="searchbar_button__C51Sh",h=r(184),l=function(t){var n=t.onSubmit,r=t.defaultValue,u=(0,c.useState)(r),a=(0,e.Z)(u,2),o=a[0],i=a[1];return(0,h.jsxs)("form",{className:s,action:"",onSubmit:function(t){t.preventDefault(),n(o)},children:[(0,h.jsx)("input",{className:f,type:"text",value:o,onChange:function(t){return i(t.currentTarget.value)},autoFocus:!0}),(0,h.jsx)("button",{className:p,children:"Search"})]})},v=r(190),b=r(938),m=r(642),d=r(713),w=function(){var t=function(){var t=(0,i.lr)(),n=(0,e.Z)(t,2),r=n[0],c=n[1];return[r.get("q"),function(t){c((function(n){return o(o({},n),{},{q:t})}))}]}(),n=(0,e.Z)(t,2),r=n[0],u=n[1],a=(0,c.useState)([]),s=(0,e.Z)(a,2),f=s[0],p=s[1],w=(0,c.useState)(!1),y=(0,e.Z)(w,2),g=y[0],j=y[1],x=(0,c.useState)(null),_=(0,e.Z)(x,2),k=_[0],O=_[1];return(0,c.useEffect)((function(){r&&(j(!0),O(!1),(0,d.FE)(r).then((function(t){if(!t.results.length)throw new Error("Nothing found!");p(t.results)})).catch((function(t){O(t.message)})).finally((function(){j(!1)})))}),[r]),(0,h.jsxs)("section",{children:[(0,h.jsx)(l,{onSubmit:function(t){t!==r&&t&&u(t)},defaultValue:r||""}),(0,h.jsx)(v.Z,{movies:f}),g&&(0,h.jsx)(b.Z,{}),k&&(0,h.jsx)(m.Z,{errorMessage:k})]})}},642:function(t,n,r){var e=r(184);n.Z=function(t){var n=t.errorMessage;return(0,e.jsx)("p",{style:{color:"red",fontSize:"20px"},children:n})}},190:function(t,n,r){r.d(n,{Z:function(){return o}});var e=r(87),c=r(689),u="movie-list_link__Hf8X+",a=r(184),o=function(t){var n=t.movies,r=void 0===n?[]:n,o=(0,c.TH)(),i=r.map((function(t){var n=t.id,r=t.original_title;return(0,a.jsx)("li",{children:(0,a.jsx)(e.OL,{className:u,to:"/movies/".concat(n),state:{from:o},children:(0,a.jsx)("h3",{children:r})})},n)}));return(0,a.jsx)("ul",{children:i})}}}]);
//# sourceMappingURL=26.170c55aa.chunk.js.map