{"version":3,"file":"static/js/470.0cfad41e.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/api/movies-api.js","webpack://goit-react-hw-05-movies/./src/components/modules/pages/MovieDetailsPage/movie-detail-page.module.css?9d8b","components/modules/pages/MovieDetailsPage/MovieDetailsPage.jsx","components/shared/components/ErrorField/ErrorField.jsx","../node_modules/react-uuid/uuid.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const API_KEY = '6fd348fe18bef9bb707babb2bc9e952a';\nconst URL = 'https://api.themoviedb.org/3/';\n\nasync function fetchTrendingMoviesOfDay(page = 1) {\n  const urlParams = new URLSearchParams({\n    api_key: API_KEY,\n    page,\n  });\n  const url = `${URL}trending/movie/day?${urlParams}`;\n\n  return fetchJson(url);\n}\n\nasync function fetchMoviesBySearch(query, page = 1) {\n  const urlParams = new URLSearchParams({\n    api_key: API_KEY,\n    page,\n    query,\n  });\n  const url = `${URL}search/movie?${urlParams}`;\n\n  return fetchJson(url);\n}\n\nasync function fetchMovieDetail(id) {\n  const urlParams = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  const url = `${URL}movie/${id}?${urlParams}`;\n\n  return fetchJson(url);\n}\n\nasync function fetchMovieCast(id) {\n  const urlParams = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  const url = `${URL}movie/${id}/credits?${urlParams}`;\n\n  return fetchJson(url);\n}\n\nasync function fetchMovieReviews(id, page = 1) {\n  const urlParams = new URLSearchParams({\n    api_key: API_KEY,\n    page,\n  });\n  const url = `${URL}movie/${id}/reviews?${urlParams}`;\n\n  return fetchJson(url);\n}\n\nasync function fetchImage(path, width = 400) {\n  const w = `w${width}`;\n  const url = `https://image.tmdb.org/t/p/${w}${path}`;\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.blob();\n    } else {\n      throw new Error(response.statusText);\n    }\n  });\n}\n\nasync function fetchJson(url) {\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    } else {\n      throw new Error(response.statusText);\n    }\n  });\n}\n\nexport {\n  fetchTrendingMoviesOfDay,\n  fetchMoviesBySearch,\n  fetchMovieDetail,\n  fetchMovieCast,\n  fetchMovieReviews,\n  fetchImage,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"movie-detail-page_content__oS-Cz\",\"button\":\"movie-detail-page_button__AIuFJ\"};","import { useState, useEffect } from 'react';\nimport uuid from 'react-uuid';\nimport {\n  Outlet,\n  NavLink,\n  useParams,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport { fetchMovieDetail, fetchImage } from 'components/api/movies-api';\nimport Loader from 'components/shared/components/Loader/Loader';\nimport ErrorField from 'components/shared/components/ErrorField/ErrorField';\nimport styles from './movie-detail-page.module.css';\n\nconst MovieDetailPage = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [poster, setPoster] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    setLoading(true);\n    fetchMovieDetail(movieId)\n      .then(data => {\n        setMovie(data);\n      })\n      .catch(error => {\n        setError(error.message);\n      });\n  }, [movieId]);\n\n  useEffect(() => {\n    if (movie) {\n      fetchImage(movie.poster_path)\n        .then(blob => {\n          setPoster(URL.createObjectURL(blob));\n        })\n        .finally(() => setLoading(false));\n    }\n  }, [movie]);\n\n  const releaseYear = new Date(movie?.release_date).getFullYear();\n  const genres = movie?.genres.map(({ name }) => name).join(', ');\n\n  return (\n    <section>\n      <button\n        className={styles.button}\n        onClick={e => {\n          navigate(location.state?.from);\n        }}\n      >\n        Go back\n      </button>\n      {loading && <Loader />}\n      {error && <ErrorField errorMessage={error} />}\n      {movie && (\n        <div className={styles.content}>\n          <img src={poster} alt={movie.title} />\n          <div className={styles.info}>\n            <h2 className={styles['movie-name']}>\n              {movie.original_title}(<span>{releaseYear}</span>)\n            </h2>\n            <p>\n              User score<span></span>\n            </p>\n            <h3>Overwiev</h3>\n            <p>{movie.overview}</p>\n            <h3>Genres</h3>\n            <p>{genres}</p>\n          </div>\n        </div>\n      )}\n      <div className={styles.submenu}>\n        <h4>Additional information</h4>\n        <ul>\n          <li key={uuid()}>\n            <NavLink to={`cast`} state={{ from: location.state?.from }}>\n              Cast\n            </NavLink>\n          </li>\n          <li key={uuid()}>\n            <NavLink to={`reviews`} state={{ from: location.state?.from }}>\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n      <Outlet />\n    </section>\n  );\n};\n\nexport default MovieDetailPage;\n","import PropTypes from 'prop-types';\n\nconst ErrorField = ({ errorMessage }) => {\n  return <p style={{ color: 'red', fontSize: '20px' }}>{errorMessage}</p>;\n};\n\nexport default ErrorField;\n\nErrorField.propTypes = {\n  errorMessage: PropTypes.string,\n};\n","/**\nA function that returns a universally unique identifier (uuid).  \nexample: 1b83fd69-abe7-468c-bea1-306a8aa1c81d\n@returns `string` : 32 character uuid (see example)\n*/\nfunction uuid() {\n\tconst hashTable = [\n\t\t\"a\",\n\t\t\"b\",\n\t\t\"c\",\n\t\t\"d\",\n\t\t\"e\",\n\t\t\"f\",\n\t\t\"0\",\n\t\t\"1\",\n\t\t\"2\",\n\t\t\"3\",\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t];\n\tlet uuid = [];\n\tfor (let i = 0; i < 36; i++) {\n\t\tif (i === 8 || i === 13 || i === 18 || i === 23) {\n\t\t\tuuid[i] = \"-\";\n\t\t} else {\n\t\t\tuuid[i] = hashTable[Math.ceil(Math.random() * hashTable.length - 1)];\n\t\t}\n\t}\n\treturn uuid.join(\"\");\n}\n\nmodule.exports = uuid;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","API_KEY","URL","fetchTrendingMoviesOfDay","page","urlParams","URLSearchParams","api_key","url","fetchJson","fetchMoviesBySearch","query","fetchMovieDetail","id","fetchMovieCast","fetchMovieReviews","fetchImage","path","width","w","fetch","response","ok","blob","Error","statusText","json","movieId","useParams","useState","movie","setMovie","poster","setPoster","loading","setLoading","setError","navigate","useNavigate","location","useLocation","useEffect","data","catch","message","poster_path","createObjectURL","finally","releaseYear","Date","release_date","getFullYear","genres","map","name","join","className","styles","onClick","e","state","from","Loader","ErrorField","errorMessage","src","alt","title","original_title","overview","to","uuid","style","color","fontSize","module","exports","hashTable","i","Math","ceil","random","length"],"sourceRoot":""}